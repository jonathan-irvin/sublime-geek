<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml-stylesheet type="text/xsl" href="./modx.prosilver.en.xsl"?>
<!--
	For security purposes, please check: http://www.phpbb.com/mods/ for the latest version of this
	MOD. Although MODs are checked before being allowed in the MODs Database there is no guarantee
	that there are no security problems within the MOD. No support will be given for MODs not found
	within the MODs Database which can be found at http://www.phpbb.com/mods/
-->
<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.2.1.xsd">
	<header>
		<license>http://opensource.org/licenses/gpl-license.php GNU General Public License v2</license>
		
		<title lang="en">Colored background messages for admins and mods</title>
		<title lang="fr">Coloriser le fond des messages des admins et modos</title>
		<description lang="en"><![CDATA[This MOD colors background for administrators and moderators' posts when reading a topic. These options can be set up in the ACP.]]></description>
		<description lang="fr"><![CDATA[Ce MOD change la couleur de fond des messages des administrateurs et modérateurs lors de la lecture d'un sujet. Ces options peuvent être modifiées dans le panneau d'administration.]]></description>
		<author-notes lang="en">Thanks to Nadia P. for the idea.</author-notes>
		<author-notes lang="fr">Merci à Nadia P. pour l'idée de ce MOD.</author-notes>
    		
		
		<author-group>
			<author>
				<realname>Romain Kowalski</realname>
				<email></email>
				<username>Théonaute</username>
				<homepage>http://forums.nosce-te-ipsum.net</homepage>
			</author>
		</author-group>
		
		<mod-version>1.0.1</mod-version>
		
		<installation>
			<level>easy</level>
			<time>120</time>
			<target-version>3.0.2</target-version>
		</installation>
		
		<history>
			<entry>
				<date>2008-09-19</date>
				<rev-version>1.0.1</rev-version>
				<changelog lang="en">
					<change>[Feature] You can enable/disable this feature for each post.</change>
					<change>[Feature] You can set the colors in the ACP.</change>
				</changelog>
				<changelog lang="fr">
					<change>[Ajout] Il est maintenant possible d'activer ou non ce MOD pour chaque message.</change>
					<change>[Ajout] Les couleurs peuvent être configurées dans l'ACP.</change>
				</changelog>				
			</entry>
			<entry>
				<date>2008-08-22</date>
				<rev-version>1.0.0</rev-version>
				<changelog lang="en">
					<change>First version - hello world !</change>
				</changelog>
				<changelog lang="fr">
					<change>Première version</change>
				</changelog>				
			</entry>
		</history>

		<link-group>
			<link type="language" href="fr.xml" lang="fr">Français</link>
			<link type="language" href="fr.xml" lang="en">French</link>
			<link type="template" href="subsilver2.xml" lang="fr">subsilver2</link>
			<link type="template" href="subsilver2.xml" lang="en">subsilver2</link>
		</link-group>	
	</header>
	
	<action-group>
		<open src="styles/subsilver2/template/overall_header.html">
			<edit>
				<find><![CDATA[<link rel="stylesheet" href="{T_STYLESHEET_LINK}" type="text/css" />]]></find>
				<action type="after-add"><![CDATA[<style type="text/css">
/* Begin : Colored background messages for admin and moderators */
.cbgm_admin	{ background-color: #{CBGM_ADMIN_COLOR};}
.cbgm_mod	{ background-color: #{CBGM_MOD_COLOR};}
/* End : Colored background messages for admin and moderators */
</style>]]></action>
			</edit>
		</open>	
		
		<open src="styles/subsilver2/template/posting_body.html">
			<edit>
				<find><![CDATA[		<!-- IF S_BBCODE_ALLOWED -->
			<tr>
				<td><input type="checkbox" class="radio" name="disable_bbcode"{S_BBCODE_CHECKED} /></td>
				<td class="gen">{L_DISABLE_BBCODE}</td>
			</tr>
		<!-- ENDIF -->]]></find>
				<action type="before-add"><![CDATA[		<!-- IF S_CBGM_ALLOWED -->			
			<tr>
				<td><input type="checkbox" class="radio" name="enable_cbgm"{S_CBGM_CHECKED} /></td>
				<td class="gen">{L_ENABLE_CBGM}</td>
			</tr>
		<!-- ENDIF -->]]></action>
			</edit>
		</open>			
		
		<open src="styles/subsilver2/template/viewtopic_body.html">
			<edit>
				<find><![CDATA[		<!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF -->]]></find>
				<action type="replace-with"><![CDATA[		<!-- IF postrow.S_POSTER_IS_ADMIN --><tr class="cbgm_admin"><!-- ELSEIF postrow.S_POSTER_IS_MOD --><tr class="cbgm_mod"><!-- ELSE --><!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF --><!-- ENDIF -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[		<!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF -->]]></find>
				<action type="replace-with"><![CDATA[		<!-- IF postrow.S_POSTER_IS_ADMIN --><tr class="cbgm_admin"><!-- ELSEIF postrow.S_POSTER_IS_MOD --><tr class="cbgm_mod"><!-- ELSE --><!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF --><!-- ENDIF -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[		<!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF -->]]></find>
				<action type="replace-with"><![CDATA[		<!-- IF postrow.S_POSTER_IS_ADMIN --><tr class="cbgm_admin"><!-- ELSEIF postrow.S_POSTER_IS_MOD --><tr class="cbgm_mod"><!-- ELSE --><!-- IF postrow.S_ROW_COUNT is even --><tr class="row1"><!-- ELSE --><tr class="row2"><!-- ENDIF --><!-- ENDIF -->]]></action>
			</edit>			
		</open>		
	
	<diy-instructions lang="en">Purge your board cache.
Go to ACP > Board Features for configuring this MOD.</diy-instructions>	
	<diy-instructions lang="fr">Purgez le cache du forum.
Allez dans Panneau d'administration > Fonctionnalités du forum pour configurer ce MOD.</diy-instructions>
	</action-group>
</mod>